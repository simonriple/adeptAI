import { FunctionComponent } from 'react';
import { useTranslation } from 'next-i18next';
import { serverSideTranslations } from 'next-i18next/serverSideTranslations';

import { LanguageSwitcherStyled } from './styles';

export const LanguageSwitcherComponent: FunctionComponent = () => {
  const { i18n } = useTranslation();
  const changeLanguage = (language: string) => {
    i18n.changeLanguage(language).then((t) => {
      console.log(100, t('appTitle'));
    });
  ;
}
console.log(100, i18n);
  return (
    <div>
    <LanguageSwitcherStyled onClick={() => changeLanguage(i18n.language === 'en' ? 'nb' : 'en')}>
      <p>{i18n.language}</p>
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path d="M12 24C10.3487 24 8.79316 23.6842 7.33333 23.0526C5.87351 22.4209 4.60214 21.5637 3.51923 20.4808C2.43632 19.3979 1.57906 18.1265 0.947434 16.6667C0.315811 15.2068 0 13.6513 0 12C0 10.3436 0.315811 8.78675 0.947434 7.3295C1.57906 5.87223 2.43632 4.60215 3.51923 3.51923C4.60214 2.43632 5.87351 1.57905 7.33333 0.947433C8.79316 0.31581 10.3487 0 12 0C13.6564 0 15.2133 0.31581 16.6705 0.947433C18.1278 1.57905 19.3979 2.43632 20.4808 3.51923C21.5637 4.60215 22.4209 5.87223 23.0526 7.3295C23.6842 8.78675 24 10.3436 24 12C24 13.6513 23.6842 15.2068 23.0526 16.6667C22.4209 18.1265 21.5637 19.3979 20.4808 20.4808C19.3979 21.5637 18.1278 22.4209 16.6705 23.0526C15.2133 23.6842 13.6564 24 12 24ZM12 22.6769C12.7829 21.6718 13.4282 20.6846 13.9359 19.7154C14.4436 18.7462 14.8564 17.6615 15.1744 16.4615H8.82563C9.17777 17.7299 9.59913 18.8487 10.0897 19.818C10.5803 20.7872 11.2171 21.7402 12 22.6769ZM10.3026 22.4769C9.68034 21.7436 9.11239 20.8372 8.5987 19.7577C8.08503 18.6782 7.70256 17.5795 7.45127 16.4615H2.33847C3.10258 18.1197 4.18591 19.4795 5.58847 20.541C6.99102 21.6026 8.56239 22.2479 10.3026 22.4769ZM13.6974 22.4769C15.4376 22.2479 17.009 21.6026 18.4115 20.541C19.8141 19.4795 20.8974 18.1197 21.6615 16.4615H16.5487C16.212 17.5966 15.7868 18.7038 15.2731 19.7833C14.7594 20.8628 14.2342 21.7607 13.6974 22.4769ZM1.79487 15.1282H7.17437C7.0735 14.5812 7.00213 14.0483 6.96027 13.5295C6.91838 13.0107 6.89743 12.5008 6.89743 12C6.89743 11.4992 6.91838 10.9893 6.96027 10.4705C7.00213 9.9517 7.0735 9.4188 7.17437 8.8718H1.79487C1.64958 9.33333 1.53633 9.83632 1.45513 10.3808C1.37393 10.9252 1.33333 11.465 1.33333 12C1.33333 12.535 1.37393 13.0748 1.45513 13.6192C1.53633 14.1637 1.64958 14.6667 1.79487 15.1282ZM8.5077 15.1282H15.4923C15.5932 14.5812 15.6645 14.0568 15.7064 13.5551C15.7483 13.0534 15.7692 12.535 15.7692 12C15.7692 11.465 15.7483 10.9466 15.7064 10.4449C15.6645 9.94316 15.5932 9.4188 15.4923 8.8718H8.5077C8.40683 9.4188 8.33547 9.94316 8.2936 10.4449C8.25171 10.9466 8.23077 11.465 8.23077 12C8.23077 12.535 8.25171 13.0534 8.2936 13.5551C8.33547 14.0568 8.40683 14.5812 8.5077 15.1282ZM16.8256 15.1282H22.2051C22.3504 14.6667 22.4637 14.1637 22.5449 13.6192C22.6261 13.0748 22.6667 12.535 22.6667 12C22.6667 11.465 22.6261 10.9252 22.5449 10.3808C22.4637 9.83632 22.3504 9.33333 22.2051 8.8718H16.8256C16.9265 9.4188 16.9979 9.9517 17.0398 10.4705C17.0816 10.9893 17.1026 11.4992 17.1026 12C17.1026 12.5008 17.0816 13.0107 17.0398 13.5295C16.9979 14.0483 16.9265 14.5812 16.8256 15.1282ZM16.5487 7.53847H21.6615C20.8803 5.84616 19.8098 4.48632 18.45 3.45897C17.0902 2.43163 15.506 1.77779 13.6974 1.49743C14.3197 2.31623 14.8791 3.25256 15.3756 4.3064C15.8722 5.36025 16.2633 6.4376 16.5487 7.53847ZM8.82563 7.53847H15.1744C14.8222 6.28718 14.388 5.15556 13.8718 4.1436C13.3556 3.13162 12.7316 2.19145 12 1.32307C11.2684 2.19145 10.6444 3.13162 10.1282 4.1436C9.61196 5.15556 9.17777 6.28718 8.82563 7.53847ZM2.33847 7.53847H7.45127C7.73673 6.4376 8.12777 5.36025 8.62437 4.3064C9.12094 3.25256 9.68034 2.31623 10.3026 1.49743C8.47692 1.77779 6.88846 2.43591 5.53717 3.4718C4.1859 4.50769 3.11967 5.86324 2.33847 7.53847Z"/>
      </svg>
    </LanguageSwitcherStyled>
    </div>
  )
};
export async function getServerSideProps({ locale }: { locale: string }) {
  return {
    props: {
      ...await serverSideTranslations(locale, 'common'),
      // Will be passed to the page component as props
    },
  }
}
export default LanguageSwitcherComponent;
